{
    "version": 1,
    "serial": 27,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "openstack_compute_instance_v2.app_server": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_compute_keypair_v2.app_key_pair",
                        "openstack_compute_secgroup_v2.appsg",
                        "openstack_networking_network_v2.app_network"
                    ],
                    "primary": {
                        "id": "a95e5ae1-d691-42f8-9310-fd4747543fb9",
                        "attributes": {
                            "flavor_name": "m1.small",
                            "id": "a95e5ae1-d691-42f8-9310-fd4747543fb9",
                            "image_name": "ubuntu-14.04-server-amd64",
                            "key_pair": "app_key",
                            "name": "app_server",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "",
                            "network.0.name": "",
                            "network.0.port": "",
                            "network.0.uuid": "d0743b1e-f581-4873-8eb6-ade1e07d035e",
                            "region": "nova",
                            "security_groups.#": "1",
                            "security_groups.2323300322": "appsg",
                            "volume.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.dba_server": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_compute_keypair_v2.dba_key_pair",
                        "openstack_compute_secgroup_v2.dbsg",
                        "openstack_networking_network_v2.db_network"
                    ],
                    "primary": {
                        "id": "98e42210-b23b-4e00-ae00-2d0c38130da9",
                        "attributes": {
                            "flavor_name": "m1.small",
                            "id": "98e42210-b23b-4e00-ae00-2d0c38130da9",
                            "image_name": "ubuntu-14.04-server-amd64",
                            "key_pair": "db_key",
                            "name": "dba_server",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "",
                            "network.0.name": "",
                            "network.0.port": "",
                            "network.0.uuid": "98892b25-f614-424a-9b5b-7f617479cc17",
                            "region": "nova",
                            "security_groups.#": "1",
                            "security_groups.160923336": "dbsg",
                            "volume.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.web_server": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_compute_keypair_v2.web_key_pair",
                        "openstack_compute_secgroup_v2.websg",
                        "openstack_networking_network_v2.web_network"
                    ],
                    "primary": {
                        "id": "246aec29-245a-47a8-a083-c1cdb97ec66f",
                        "attributes": {
                            "flavor_name": "m1.small",
                            "id": "246aec29-245a-47a8-a083-c1cdb97ec66f",
                            "image_name": "ubuntu-14.04-server-amd64",
                            "key_pair": "web_key",
                            "name": "web_server",
                            "network.#": "1",
                            "network.0.access_network": "false",
                            "network.0.fixed_ip_v4": "",
                            "network.0.fixed_ip_v6": "",
                            "network.0.floating_ip": "",
                            "network.0.mac": "",
                            "network.0.name": "",
                            "network.0.port": "",
                            "network.0.uuid": "95da653c-c0cf-4db0-82da-2c8d1f48e8ce",
                            "region": "nova",
                            "security_groups.#": "1",
                            "security_groups.499060083": "websg",
                            "volume.#": "0"
                        }
                    }
                },
                "openstack_compute_keypair_v2.app_key_pair": {
                    "type": "openstack_compute_keypair_v2",
                    "primary": {
                        "id": "app_key",
                        "attributes": {
                            "id": "app_key",
                            "name": "app_key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDp8nu0z5mREqEXbGJsgnVmaAE4L0PDDBNAj3gvNCdjDIL/PEXUga4T02q5IbQx/zknRcyaqmtmqk1JZBK5OZ5InQcRCGv8qcuvHlizGYMqtyy+jf6In7ciXg6bv5R7hHGh1UKH4mLTdT42uSVA0qWy1Dq37zUO7UKQqop1Gqa66hmF9JSKKHuXQTckHEWm8gEx4KaJjY2/zkau6aRvlG/44IQmLnGz9Xcs5yqcp8BgCM5jT/v/XsQ6iYIz4RcyKk/X6Q7fLECNBSdj4Wm0b7lZCcQArtTsvFW2M+zSBnw79AQfwTDLjoSs2Ujq/DQNwi0IzAbr9ij+W9XtpgAr8S3MALW5z23/Tfe9LyH+W0nSZeHlAjj04h3I4xuvxd3bu5Lc2haNF5QaA+tzyHnRKWBeubeRUuShZ6oH+x9uziJEapbe3PiG01JlCSUrYiAAIVdnav0PEXtca8HtVwBbpYK9fCgHR4sMxWDSb7T7eMeCnuCSc1PG64myCr8EaWxlDYFjxw73C5s6aVaKFCW1UV1NqIrd0TxTLkM/BiKgnFSH8FS1Y0aShqkNCNfD6fsu4WPPgdmDJoTK3G80jZnbMIHZIPSptBnQXJZ3QzhxbrxJAZpwgy4iDyDpZ6he/GwM7nMa4/ddumkC0K8m8ibAE5GfaI+osNyJNEQE+ndhkfNknw== nathan79@gmail.com\n",
                            "region": "nova"
                        }
                    }
                },
                "openstack_compute_keypair_v2.dba_key_pair": {
                    "type": "openstack_compute_keypair_v2",
                    "primary": {
                        "id": "db_key",
                        "attributes": {
                            "id": "db_key",
                            "name": "db_key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDp8nu0z5mREqEXbGJsgnVmaAE4L0PDDBNAj3gvNCdjDIL/PEXUga4T02q5IbQx/zknRcyaqmtmqk1JZBK5OZ5InQcRCGv8qcuvHlizGYMqtyy+jf6In7ciXg6bv5R7hHGh1UKH4mLTdT42uSVA0qWy1Dq37zUO7UKQqop1Gqa66hmF9JSKKHuXQTckHEWm8gEx4KaJjY2/zkau6aRvlG/44IQmLnGz9Xcs5yqcp8BgCM5jT/v/XsQ6iYIz4RcyKk/X6Q7fLECNBSdj4Wm0b7lZCcQArtTsvFW2M+zSBnw79AQfwTDLjoSs2Ujq/DQNwi0IzAbr9ij+W9XtpgAr8S3MALW5z23/Tfe9LyH+W0nSZeHlAjj04h3I4xuvxd3bu5Lc2haNF5QaA+tzyHnRKWBeubeRUuShZ6oH+x9uziJEapbe3PiG01JlCSUrYiAAIVdnav0PEXtca8HtVwBbpYK9fCgHR4sMxWDSb7T7eMeCnuCSc1PG64myCr8EaWxlDYFjxw73C5s6aVaKFCW1UV1NqIrd0TxTLkM/BiKgnFSH8FS1Y0aShqkNCNfD6fsu4WPPgdmDJoTK3G80jZnbMIHZIPSptBnQXJZ3QzhxbrxJAZpwgy4iDyDpZ6he/GwM7nMa4/ddumkC0K8m8ibAE5GfaI+osNyJNEQE+ndhkfNknw== nathan79@gmail.com\n",
                            "region": "nova"
                        }
                    }
                },
                "openstack_compute_keypair_v2.web_key_pair": {
                    "type": "openstack_compute_keypair_v2",
                    "primary": {
                        "id": "web_key",
                        "attributes": {
                            "id": "web_key",
                            "name": "web_key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDp8nu0z5mREqEXbGJsgnVmaAE4L0PDDBNAj3gvNCdjDIL/PEXUga4T02q5IbQx/zknRcyaqmtmqk1JZBK5OZ5InQcRCGv8qcuvHlizGYMqtyy+jf6In7ciXg6bv5R7hHGh1UKH4mLTdT42uSVA0qWy1Dq37zUO7UKQqop1Gqa66hmF9JSKKHuXQTckHEWm8gEx4KaJjY2/zkau6aRvlG/44IQmLnGz9Xcs5yqcp8BgCM5jT/v/XsQ6iYIz4RcyKk/X6Q7fLECNBSdj4Wm0b7lZCcQArtTsvFW2M+zSBnw79AQfwTDLjoSs2Ujq/DQNwi0IzAbr9ij+W9XtpgAr8S3MALW5z23/Tfe9LyH+W0nSZeHlAjj04h3I4xuvxd3bu5Lc2haNF5QaA+tzyHnRKWBeubeRUuShZ6oH+x9uziJEapbe3PiG01JlCSUrYiAAIVdnav0PEXtca8HtVwBbpYK9fCgHR4sMxWDSb7T7eMeCnuCSc1PG64myCr8EaWxlDYFjxw73C5s6aVaKFCW1UV1NqIrd0TxTLkM/BiKgnFSH8FS1Y0aShqkNCNfD6fsu4WPPgdmDJoTK3G80jZnbMIHZIPSptBnQXJZ3QzhxbrxJAZpwgy4iDyDpZ6he/GwM7nMa4/ddumkC0K8m8ibAE5GfaI+osNyJNEQE+ndhkfNknw== nathan79@gmail.com\n",
                            "region": "nova"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.appsg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "9eb96896-ef32-49e1-ae3b-5a3ccecf2690",
                        "attributes": {
                            "description": "Security group for the App VMs",
                            "id": "9eb96896-ef32-49e1-ae3b-5a3ccecf2690",
                            "name": "appsg",
                            "region": "nova",
                            "rule.#": "2",
                            "rule.2598447331.cidr": "10.0.0.0/24",
                            "rule.2598447331.from_group_id": "",
                            "rule.2598447331.from_port": "1",
                            "rule.2598447331.id": "d94bbce0-a1a0-466f-8b4f-8eec5c6e5e24",
                            "rule.2598447331.ip_protocol": "tcp",
                            "rule.2598447331.self": "false",
                            "rule.2598447331.to_port": "65535",
                            "rule.4268521250.cidr": "10.0.0.0/24",
                            "rule.4268521250.from_group_id": "",
                            "rule.4268521250.from_port": "-1",
                            "rule.4268521250.id": "6af15174-b6c4-4a2e-aa8d-a1b5ebd04ac0",
                            "rule.4268521250.ip_protocol": "icmp",
                            "rule.4268521250.self": "false",
                            "rule.4268521250.to_port": "-1"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.dbsg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "ec0d7f78-cc0c-4b31-8683-ef400e08c4d5",
                        "attributes": {
                            "description": "Security group for the DB VMs",
                            "id": "ec0d7f78-cc0c-4b31-8683-ef400e08c4d5",
                            "name": "dbsg",
                            "region": "nova",
                            "rule.#": "2",
                            "rule.133089685.cidr": "10.0.1.0/24",
                            "rule.133089685.from_group_id": "",
                            "rule.133089685.from_port": "1",
                            "rule.133089685.id": "25f10309-980b-4566-a3f6-73eca3143c3a",
                            "rule.133089685.ip_protocol": "tcp",
                            "rule.133089685.self": "false",
                            "rule.133089685.to_port": "65535",
                            "rule.1667470932.cidr": "10.0.1.0/24",
                            "rule.1667470932.from_group_id": "",
                            "rule.1667470932.from_port": "-1",
                            "rule.1667470932.id": "9268018c-4916-4d6a-8cdc-dd3e5f7ad4d9",
                            "rule.1667470932.ip_protocol": "icmp",
                            "rule.1667470932.self": "false",
                            "rule.1667470932.to_port": "-1"
                        }
                    }
                },
                "openstack_compute_secgroup_v2.websg": {
                    "type": "openstack_compute_secgroup_v2",
                    "primary": {
                        "id": "d69ee6d6-8536-4788-95ce-bb65fbc5dc76",
                        "attributes": {
                            "description": "Security group for the Web VMs",
                            "id": "d69ee6d6-8536-4788-95ce-bb65fbc5dc76",
                            "name": "websg",
                            "region": "nova",
                            "rule.#": "2",
                            "rule.3211544828.cidr": "0.0.0.0/0",
                            "rule.3211544828.from_group_id": "",
                            "rule.3211544828.from_port": "443",
                            "rule.3211544828.id": "f53f38f3-a595-4d1c-9411-8770c133a7b4",
                            "rule.3211544828.ip_protocol": "tcp",
                            "rule.3211544828.self": "false",
                            "rule.3211544828.to_port": "443",
                            "rule.3719211069.cidr": "0.0.0.0/0",
                            "rule.3719211069.from_group_id": "",
                            "rule.3719211069.from_port": "80",
                            "rule.3719211069.id": "f3c1d2c6-6a32-4abe-bb38-4cd52c8dcc7d",
                            "rule.3719211069.ip_protocol": "tcp",
                            "rule.3719211069.self": "false",
                            "rule.3719211069.to_port": "80"
                        }
                    }
                },
                "openstack_networking_network_v2.app_network": {
                    "type": "openstack_networking_network_v2",
                    "primary": {
                        "id": "d0743b1e-f581-4873-8eb6-ade1e07d035e",
                        "attributes": {
                            "admin_state_up": "true",
                            "id": "d0743b1e-f581-4873-8eb6-ade1e07d035e",
                            "name": "app_network",
                            "region": "nova",
                            "shared": "false",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_network_v2.db_network": {
                    "type": "openstack_networking_network_v2",
                    "primary": {
                        "id": "98892b25-f614-424a-9b5b-7f617479cc17",
                        "attributes": {
                            "admin_state_up": "true",
                            "id": "98892b25-f614-424a-9b5b-7f617479cc17",
                            "name": "db_network",
                            "region": "nova",
                            "shared": "false",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_network_v2.web_network": {
                    "type": "openstack_networking_network_v2",
                    "primary": {
                        "id": "95da653c-c0cf-4db0-82da-2c8d1f48e8ce",
                        "attributes": {
                            "admin_state_up": "true",
                            "id": "95da653c-c0cf-4db0-82da-2c8d1f48e8ce",
                            "name": "web_network",
                            "region": "nova",
                            "shared": "false",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_router_interface_v2.app_router_interface": {
                    "type": "openstack_networking_router_interface_v2",
                    "depends_on": [
                        "openstack_networking_router_v2.application_router",
                        "openstack_networking_subnet_v2.app_subnet"
                    ],
                    "primary": {
                        "id": "67ec1752-ac39-461c-a5b0-b405f04ed023",
                        "attributes": {
                            "id": "67ec1752-ac39-461c-a5b0-b405f04ed023",
                            "region": "nova",
                            "router_id": "b5d7a83b-5023-4bc0-a846-db2678fb7422",
                            "subnet_id": "8734f6fb-fb85-4622-81fd-4b2990154d32"
                        }
                    }
                },
                "openstack_networking_router_interface_v2.db_router_interface": {
                    "type": "openstack_networking_router_interface_v2",
                    "depends_on": [
                        "openstack_networking_router_v2.application_router",
                        "openstack_networking_subnet_v2.db_subnet"
                    ],
                    "primary": {
                        "id": "b493cbf5-4a63-4fc3-967f-d8a801d2cb64",
                        "attributes": {
                            "id": "b493cbf5-4a63-4fc3-967f-d8a801d2cb64",
                            "region": "nova",
                            "router_id": "b5d7a83b-5023-4bc0-a846-db2678fb7422",
                            "subnet_id": "69739711-6d8f-499b-8cb8-6cbe06230e42"
                        }
                    }
                },
                "openstack_networking_router_interface_v2.web_router_interface": {
                    "type": "openstack_networking_router_interface_v2",
                    "depends_on": [
                        "openstack_networking_router_v2.application_router",
                        "openstack_networking_subnet_v2.web_subnet"
                    ],
                    "primary": {
                        "id": "cd24e774-6e2b-4906-aa9e-d4a3d70144ac",
                        "attributes": {
                            "id": "cd24e774-6e2b-4906-aa9e-d4a3d70144ac",
                            "region": "nova",
                            "router_id": "b5d7a83b-5023-4bc0-a846-db2678fb7422",
                            "subnet_id": "34f6b481-f726-4d33-a51c-da24e821eb8c"
                        }
                    }
                },
                "openstack_networking_router_v2.application_router": {
                    "type": "openstack_networking_router_v2",
                    "primary": {
                        "id": "b5d7a83b-5023-4bc0-a846-db2678fb7422",
                        "attributes": {
                            "admin_state_up": "true",
                            "external_gateway": "fdb92e61-75e4-47ef-9b74-557af5b6147d",
                            "id": "b5d7a83b-5023-4bc0-a846-db2678fb7422",
                            "name": "application_router",
                            "region": "nova",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_subnet_v2.app_subnet": {
                    "type": "openstack_networking_subnet_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.app_network"
                    ],
                    "primary": {
                        "id": "8734f6fb-fb85-4622-81fd-4b2990154d32",
                        "attributes": {
                            "cidr": "10.0.1.0/24",
                            "dns_nameservers.#": "2",
                            "dns_nameservers.3811298194": "8.8.4.4",
                            "dns_nameservers.3817307869": "8.8.8.8",
                            "enable_dhcp": "true",
                            "gateway_ip": "10.0.1.1",
                            "host_routes.#": "0",
                            "id": "8734f6fb-fb85-4622-81fd-4b2990154d32",
                            "ip_version": "4",
                            "name": "app_subnet",
                            "network_id": "d0743b1e-f581-4873-8eb6-ade1e07d035e",
                            "region": "nova",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_subnet_v2.db_subnet": {
                    "type": "openstack_networking_subnet_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.db_network"
                    ],
                    "primary": {
                        "id": "69739711-6d8f-499b-8cb8-6cbe06230e42",
                        "attributes": {
                            "cidr": "10.0.2.0/24",
                            "dns_nameservers.#": "2",
                            "dns_nameservers.3811298194": "8.8.4.4",
                            "dns_nameservers.3817307869": "8.8.8.8",
                            "enable_dhcp": "true",
                            "gateway_ip": "10.0.2.1",
                            "host_routes.#": "0",
                            "id": "69739711-6d8f-499b-8cb8-6cbe06230e42",
                            "ip_version": "4",
                            "name": "db_subnet",
                            "network_id": "98892b25-f614-424a-9b5b-7f617479cc17",
                            "region": "nova",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                },
                "openstack_networking_subnet_v2.web_subnet": {
                    "type": "openstack_networking_subnet_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.web_network"
                    ],
                    "primary": {
                        "id": "34f6b481-f726-4d33-a51c-da24e821eb8c",
                        "attributes": {
                            "cidr": "10.0.0.0/24",
                            "dns_nameservers.#": "2",
                            "dns_nameservers.3811298194": "8.8.4.4",
                            "dns_nameservers.3817307869": "8.8.8.8",
                            "enable_dhcp": "true",
                            "gateway_ip": "10.0.0.1",
                            "host_routes.#": "0",
                            "id": "34f6b481-f726-4d33-a51c-da24e821eb8c",
                            "ip_version": "4",
                            "name": "web_subnet",
                            "network_id": "95da653c-c0cf-4db0-82da-2c8d1f48e8ce",
                            "region": "nova",
                            "tenant_id": "69c32794df0c4e8daa7da62a249534bd"
                        }
                    }
                }
            }
        }
    ]
}
